(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),l=a.n(c),o=(a(14),a(2)),s=a.n(o),u=a(6),i=a(5),m=a(1),h=(a(16),function(e){var t=e.item,a=e.addNewFavourite,r=e.deleteFavourite,c=e.userFavourites,l=null,o=n.a.createElement("button",{onClick:function(){return a(t)}},"Add to favourites +");return c.some((function(e){return e.name===t.name}))&&(o=n.a.createElement("button",{onClick:function(){return r(t)}},"Remove favourite")),t.usercard&&(l=n.a.createElement("span",{className:"userCard"},"added by user")),t.homeworld?n.a.createElement("article",{className:"card"},n.a.createElement("h3",null,t.name),n.a.createElement("p",null,n.a.createElement("span",null,"Birthyear: "),t.birth_year),n.a.createElement("p",null,n.a.createElement("span",null,"Homeworld: "),t.homeworld),o,l):n.a.createElement("article",{className:"card"},n.a.createElement("h3",null,t.name),n.a.createElement("p",null,n.a.createElement("span",null,"Climate: "),t.climate),n.a.createElement("p",null,n.a.createElement("span",null,"Terrain: "),t.terrain),o,l)}),d=function(e){var t=e.choseAll,a=e.choseCharacters,r=e.chosePlanets,c=e.allBtn,l=e.characterBtn,o=e.planetBtn,s=null;return t&&(s=n.a.createElement("button",{className:c,onClick:t},"All Favourites")),n.a.createElement("nav",{className:"categories"},s,n.a.createElement("button",{className:l,onClick:a},"Characters"),n.a.createElement("button",{className:o,onClick:r},"Planets"))},p=function(e){var t=e.children,a=e.characterList,c=e.planetList,l=e.addNewFavourite,o=e.userFavourites,s=e.deleteFavourite,u=Object(r.useState)("characters"),i=Object(m.a)(u,2),p=i[0],f=i[1],v=Object(r.useState)(""),b=Object(m.a)(v,2),E=b[0],w=b[1],F="",j="",C="Search by name, birthyear or homeworld";function O(e){return n.a.createElement(h,{key:e.name,item:e,addNewFavourite:l,userFavourites:o,deleteFavourite:s})}"planets"===p&&(C="Search by name, terrain or climate");var N=c.filter((function(e){return e.name.toLowerCase().includes(E.toLowerCase())||e.climate.toLowerCase().includes(E.toLowerCase())||e.terrain.toLowerCase().includes(E.toLowerCase())})).map((function(e){return O(e)})),y=a.filter((function(e){return e.name.toLowerCase().includes(E.toLowerCase())||e.birth_year.toLowerCase().includes(E.toLowerCase())||e.homeworld.toLowerCase().includes(E.toLowerCase())})).map((function(e){return O(e)}));return"planets"===p&&(y=N,j="active"),"characters"===p&&(F="active"),n.a.createElement(n.a.Fragment,null,t,n.a.createElement("div",{className:"backdrop"},n.a.createElement("label",{htmlFor:"searchfield"},n.a.createElement("h2",null,"Search:")),n.a.createElement("input",{placeholder:C,onChange:function(e){return w(e.target.value)},id:"searchfield",type:"text"}),n.a.createElement(d,{choseCharacters:function(){return f("characters")},chosePlanets:function(){return f("planets")},characterBtn:F,planetBtn:j}),n.a.createElement("section",{className:"cards"},y)))},f=function(e){var t=e.addNewFavourite,a=Object(r.useState)("character"),c=Object(m.a)(a,2),l=c[0],o=c[1],s=Object(r.useState)(!1),u=Object(m.a)(s,2),i=u[0],h=u[1],d=Object(r.useState)(""),p=Object(m.a)(d,2),f=p[0],v=p[1],b=Object(r.useState)(""),E=Object(m.a)(b,2),w=E[0],F=E[1],j=Object(r.useState)(""),C=Object(m.a)(j,2),O=C[0],N=C[1],y=Object(r.useState)(!1),k=Object(m.a)(y,2),S=k[0],g=k[1],x=Object(r.useState)(!1),L=Object(m.a)(x,2),B=L[0],A=L[1],P=Object(r.useState)(!1),z=Object(m.a)(P,2),H=z[0],T=z[1],$="Can only contain letters",W=!1,_=!1,J=!1,M=!1,q="",D="2 characters required";S&&!/^[a-z]+[a-z0-9-\s]+$/i.test(f)&&f.length>1&&(/^[a-z]/i.test(f)?(q="error",D="Can't contain special charcters"):(q="error",D="Must start with a letter")),S&&f.length<2?q="error":S&&f.length>25?(q="error",D="No more than 25 characters allowed"):S&&(_=!0);var I=/^[a-z\s,]+$/i,R="",Y="No more than 25 characters allowed";"planet"===l?B&&w.length>25?R="error":B&&w.length>0&&!I.test(w)?(Y=$,R="error"):J=!0:B&&w&&!/^[\d]+\s?(bby|aby)/i.test(w)?(Y="Format should be: year + bby/aby",R="error"):J=!0;var G="",K="No more than 25 characters allowed";"planet"===l?H&&O.length>25?G="error":H&&O.length>0&&!I.test(O)?(G="error",K=$):M=!0:H&&O.length>25?G="error":H&&O.length>0&&!/^[a-z]+$/i.test(O)?(G="error",K=/\s/.test(O)?"Only one planet allowed":$):M=!0,_&&i&&J&&M&&(W=!0);var Q=function(e){o(e),h(!0)},U=function(e){e.preventDefault();var a=w;a||(a="unknown");var r=O;r||(r="unknown"),t("character"===l?{name:f,birth_year:a,homeworld:r,usercard:!0}:{name:f,climate:a,terrain:r,usercard:!0}),v(""),F(""),N(""),g(!1)},V=["Birthyear: ","Homeworld: "];return"planet"===l&&(V=["Climate: ","Terrain: "]),n.a.createElement("form",null,n.a.createElement("h3",{className:"form"},"Add new favourite"),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"name"},"Name: "),n.a.createElement("input",{onChange:function(e){return v(e.target.value)},onBlur:function(){return g(!0)},id:"name",type:"text",value:f})),n.a.createElement("p",{className:q},D),n.a.createElement("div",null,n.a.createElement("label",{className:"radioLabel",htmlFor:"character"},"Character: "),n.a.createElement("input",{onClick:function(){return Q("character")},type:"radio",name:"cardType",id:"character"}),n.a.createElement("label",{className:"radioLabel",htmlFor:"planet"},"Planet: "),n.a.createElement("input",{onClick:function(){return Q("planet")},type:"radio",name:"cardType",id:"planet"})),n.a.createElement("p",{className:"visible"},"Following fields evaluates to 'unknown' if left empty:"),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"opt1"},V[0]," "),n.a.createElement("input",{onChange:function(e){return F(e.target.value)},onBlur:function(){return A(!0)},value:w,disabled:!i,id:"opt1",type:"text"})),n.a.createElement("p",{className:R},Y),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"opt2"},V[1]," "),n.a.createElement("input",{onChange:function(e){return N(e.target.value)},onBlur:function(){return T(!0)},value:O,disabled:!i,id:"opt2",type:"text"})),n.a.createElement("p",{className:G},K),n.a.createElement("button",{onClick:function(e){return U(e)},disabled:!W},"Add"))},v=function(e){var t=e.children,a=e.userFavourites,c=e.deleteFavourite,l=e.addNewFavourite,o=Object(r.useState)("all"),s=Object(m.a)(o,2),u=s[0],i=s[1];function p(e){return n.a.createElement(h,{key:e.name,item:e,deleteFavourite:c,userFavourites:a})}var v="",b="",E="",w=a.map((function(e){return p(e)}));return"characters"===u&&(w=a.filter((function(e){return e.homeworld})).map((function(e){return p(e)})),b="active"),"planets"===u&&(w=a.filter((function(e){return e.climate})).map((function(e){return p(e)})),E="active"),"all"===u&&(v="active"),n.a.createElement("div",null,t,n.a.createElement("div",{className:"backdrop"},n.a.createElement("h2",null," Your Favourites"),n.a.createElement(f,{addNewFavourite:l}),n.a.createElement(d,{choseAll:function(){return i("all")},choseCharacters:function(){return i("characters")},chosePlanets:function(){return i("planets")},allBtn:v,characterBtn:b,planetBtn:E}),n.a.createElement("section",{className:"cards"},w)))},b=function(e){var t=e.screen,a=e.showSearch,r=e.showFavs,c=e.showHome,l="Favourites";"favouritescreen"===t&&(l="Search");return n.a.createElement("header",null,n.a.createElement("nav",null,n.a.createElement("span",{onClick:function(){return"Favourites"===l?r():a()}},"To ",l),n.a.createElement("span",{onClick:function(){return c()}},"Home")))},E=function(e){var t=e.showFavs,a=e.showSearch;return n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,"Star Wars"),n.a.createElement("button",{onClick:function(){return a()},className:"homeBtn"},"Search"),n.a.createElement("button",{onClick:function(){return t()},className:"homeBtn"},"Favourites"))};var w=function(){var e=Object(r.useState)("homescreen"),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([]),o=Object(m.a)(l,2),h=o[0],d=o[1],f=Object(r.useState)([]),w=Object(m.a)(f,2),F=w[0],j=w[1],C=Object(r.useState)([]),O=Object(m.a)(C,2),N=O[0],y=O[1],k="https://swapi.dev/api/";function S(){return(S=Object(i.a)(s.a.mark((function e(){var t,a,r,n,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a="".concat(k,"people/");case 2:if(!a){e.next=13;break}return e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:(n=e.sent).results.forEach((function(e){t.push(e)})),a=n.next?n.next.replace("http","https"):n.next,e.next=2;break;case 13:return c=t.map(function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.homeworld.replace("http","https"),e.next=3,fetch(a);case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,t.homeworld=n.name,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16,Promise.all(c);case 16:l=e.sent,d(l);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(i.a)(s.a.mark((function e(){var t,a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a="".concat(k,"planets/");case 2:if(!a){e.next=13;break}return e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:(n=e.sent).results.forEach((function(e){t.push(e)})),a=n.next?n.next.replace("http","https"):n.next,e.next=2;break;case 13:j(t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){N.some((function(t){return t.name===e.name}))||y([e].concat(Object(u.a)(N)))}function L(e){var t=Object(u.a)(N);t=t.filter((function(t){return t.name!==e.name})),y(t)}Object(r.useEffect)((function(){!function(){S.apply(this,arguments)}(),function(){g.apply(this,arguments)}()}),[]);var B=n.a.createElement(b,{screen:a,showSearch:function(){return c("searchscreen")},showFavs:function(){return c("favouritescreen")},showHome:function(){return c("homescreen")}}),A=null;switch(a){case"searchscreen":A=n.a.createElement(p,{characterList:h,planetList:F,addNewFavourite:x,userFavourites:N,deleteFavourite:L},B);break;case"favouritescreen":A=n.a.createElement(v,{userFavourites:N,deleteFavourite:L,addNewFavourite:x},B);break;default:A=n.a.createElement(E,{showSearch:function(){return c("searchscreen")},showFavs:function(){return c("favouritescreen")}})}return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"blur"}),A)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.5503ac30.chunk.js.map