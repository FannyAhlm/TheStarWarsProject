(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(14),a(2)),u=a.n(o),s=a(6),i=a(5),m=a(1),h=(a(16),function(e){var t=e.item,a=e.addNewFavourite,n=e.deleteFavourite,c=e.userFavourites,l=null,o=r.a.createElement("button",{onClick:function(){return a(t)}},"Add to favourites +");return c.some((function(e){return e.name===t.name}))&&(o=r.a.createElement("button",{onClick:function(){return n(t)}},"Remove favourite")),t.usercard&&(l=r.a.createElement("span",{className:"userCard"},"added by user")),t.homeworld?r.a.createElement("article",{className:"card"},r.a.createElement("h3",null,t.name),r.a.createElement("p",null,r.a.createElement("span",null,"Birthyear: "),t.birth_year),r.a.createElement("p",null,r.a.createElement("span",null,"Homeworld: "),t.homeworld),o,l):r.a.createElement("article",{className:"card"},r.a.createElement("h3",null,t.name),r.a.createElement("p",null,r.a.createElement("span",null,"Climate: "),t.climate),r.a.createElement("p",null,r.a.createElement("span",null,"Terrain: "),t.terrain),o,l)}),d=function(e){var t=e.choseAll,a=e.choseCharacters,n=e.chosePlanets,c=e.allBtn,l=e.characterBtn,o=e.planetBtn,u=null;return t&&(u=r.a.createElement("button",{className:c,onClick:t},"All Favourites")),r.a.createElement("nav",{className:"categories"},u,r.a.createElement("button",{className:l,onClick:a},"Characters"),r.a.createElement("button",{className:o,onClick:n},"Planets"))},f=function(e){var t=e.children,a=e.characterList,c=e.planetList,l=e.addNewFavourite,o=e.userFavourites,u=e.deleteFavourite,s=Object(n.useState)("characters"),i=Object(m.a)(s,2),f=i[0],p=i[1],v=Object(n.useState)(""),b=Object(m.a)(v,2),E=b[0],w=b[1],F="",j="";function C(e){return r.a.createElement(h,{key:e.name,item:e,addNewFavourite:l,userFavourites:o,deleteFavourite:u})}var O=c.filter((function(e){return e.name.toLowerCase().includes(E.toLowerCase())||e.climate.toLowerCase().includes(E.toLowerCase())||e.terrain.toLowerCase().includes(E.toLowerCase())})).map((function(e){return C(e)})),N=a.filter((function(e){return e.name.toLowerCase().includes(E.toLowerCase())||e.birth_year.toLowerCase().includes(E.toLowerCase())||e.homeworld.toLowerCase().includes(E.toLowerCase())})).map((function(e){return C(e)}));return"planets"===f&&(N=O,j="active"),"characters"===f&&(F="active"),r.a.createElement(r.a.Fragment,null,t,r.a.createElement("div",{className:"backdrop"},r.a.createElement("label",{htmlFor:"searchfield"},r.a.createElement("h2",null,"Search:")),r.a.createElement("input",{onChange:function(e){return w(e.target.value)},id:"searchfield",type:"text"}),r.a.createElement(d,{choseCharacters:function(){return p("characters")},chosePlanets:function(){return p("planets")},characterBtn:F,planetBtn:j}),r.a.createElement("section",{className:"cards"},N)))},p=function(e){var t=e.addNewFavourite,a=Object(n.useState)("character"),c=Object(m.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(!1),s=Object(m.a)(u,2),i=s[0],h=s[1],d=Object(n.useState)(""),f=Object(m.a)(d,2),p=f[0],v=f[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),w=E[0],F=E[1],j=Object(n.useState)(""),C=Object(m.a)(j,2),O=C[0],N=C[1],k=Object(n.useState)(!1),y=Object(m.a)(k,2),x=y[0],S=y[1],g=Object(n.useState)(!1),L=Object(m.a)(g,2),B=L[0],A=L[1],P=Object(n.useState)(!1),H=Object(m.a)(P,2),T=H[0],W=H[1],_=!1,J=!1,q=!1,D=!1,I="",M="2 characters required";x&&p.length<2?I="error":x&&p.length>25?(I="error",M="No more than 25 characters allowed"):x&&(J=!0);var R="",Y="No more than 25 characters allowed";"planet"===l?B&&w.length>25?R="error":q=!0:B&&w&&!/^[\d]+\s?(bby|aby)/i.test(w)?(Y="Format should be: year + bby/aby",R="error"):q=!0;var $="";T&&O.length>25?$="error":D=!0,J&&i&&q&&D&&(_=!0);var z=function(e){o(e),h(!0)},G=function(e){e.preventDefault();var a=w;a||(a="unknown");var n=O;n||(n="unknown"),t("character"===l?{name:p,birth_year:a,homeworld:n,usercard:!0}:{name:p,climate:a,terrain:n,usercard:!0}),v(""),F(""),N(""),S(!1)},K=["Birthyear: ","Homeworld: "];return"planet"===l&&(K=["Climate: ","Terrain: "]),r.a.createElement("form",null,r.a.createElement("h3",{className:"form"},"Add new favourite"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement("input",{onChange:function(e){return v(e.target.value)},onBlur:function(){return S(!0)},id:"name",type:"text",value:p})),r.a.createElement("p",{className:I},M),r.a.createElement("div",null,r.a.createElement("label",{className:"radioLabel",htmlFor:"character"},"Character: "),r.a.createElement("input",{onClick:function(){return z("character")},type:"radio",name:"cardType",id:"character"}),r.a.createElement("label",{className:"radioLabel",htmlFor:"planet"},"Planet: "),r.a.createElement("input",{onClick:function(){return z("planet")},type:"radio",name:"cardType",id:"planet"})),r.a.createElement("p",{className:"visible"},"Following fields evaluates to 'unknown' if left empty:"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"opt1"},K[0]," "),r.a.createElement("input",{onChange:function(e){return F(e.target.value)},onBlur:function(){return A(!0)},value:w,disabled:!i,id:"opt1",type:"text"})),r.a.createElement("p",{className:R},Y),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"opt2"},K[1]," "),r.a.createElement("input",{onChange:function(e){return N(e.target.value)},onBlur:function(){return W(!0)},value:O,disabled:!i,id:"opt2",type:"text"})),r.a.createElement("p",{className:$},"No more than 25 characters allowed"),r.a.createElement("button",{onClick:function(e){return G(e)},disabled:!_},"Add"))},v=function(e){var t=e.children,a=e.userFavourites,c=e.deleteFavourite,l=e.addNewFavourite,o=Object(n.useState)("all"),u=Object(m.a)(o,2),s=u[0],i=u[1];function f(e){return r.a.createElement(h,{key:e.name,item:e,deleteFavourite:c,userFavourites:a})}var v="",b="",E="",w=a.map((function(e){return f(e)}));return"characters"===s&&(w=a.filter((function(e){return e.homeworld})).map((function(e){return f(e)})),b="active"),"planets"===s&&(w=a.filter((function(e){return e.climate})).map((function(e){return f(e)})),E="active"),"all"===s&&(v="active"),r.a.createElement("div",null,t,r.a.createElement("div",{className:"backdrop"},r.a.createElement("h2",null," Your Favourites"),r.a.createElement(p,{addNewFavourite:l}),r.a.createElement(d,{choseAll:function(){return i("all")},choseCharacters:function(){return i("characters")},chosePlanets:function(){return i("planets")},allBtn:v,characterBtn:b,planetBtn:E}),r.a.createElement("section",{className:"cards"},w)))},b=function(e){var t=e.screen,a=e.showSearch,n=e.showFavs,c=e.showHome,l="Favourites";"favouritescreen"===t&&(l="Search");return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("span",{onClick:function(){return"Favourites"===l?n():a()}},"To ",l),r.a.createElement("span",{onClick:function(){return c()}},"Home")))},E=function(e){var t=e.showFavs,a=e.showSearch;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Star Wars"),r.a.createElement("button",{onClick:function(){return a()},className:"homeBtn"},"Search"),r.a.createElement("button",{onClick:function(){return t()},className:"homeBtn"},"Favourites"))};var w=function(){var e=Object(n.useState)("homescreen"),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(m.a)(l,2),h=o[0],d=o[1],p=Object(n.useState)([]),w=Object(m.a)(p,2),F=w[0],j=w[1],C=Object(n.useState)([]),O=Object(m.a)(C,2),N=O[0],k=O[1],y="https://swapi.dev/api/";function x(){return(x=Object(i.a)(u.a.mark((function e(){var t,a,n,r,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a="".concat(y,"people/");case 2:if(!a){e.next=13;break}return e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent).results.forEach((function(e){t.push(e)})),a=r.next?r.next.replace("http","https"):r.next,e.next=2;break;case 13:return c=t.map(function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.homeworld);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,t.homeworld=n.name,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16,Promise.all(c);case 16:l=e.sent,d(l);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(i.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a="".concat(y,"planets/");case 2:if(!a){e.next=13;break}return e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent).results.forEach((function(e){t.push(e)})),a=r.next?r.next.replace("http","https"):r.next,e.next=2;break;case 13:j(t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){N.some((function(t){return t.name===e.name}))||k([e].concat(Object(s.a)(N)))}function L(e){var t=Object(s.a)(N);t=t.filter((function(t){return t.name!==e.name})),k(t)}Object(n.useEffect)((function(){!function(){x.apply(this,arguments)}(),function(){S.apply(this,arguments)}()}),[]);var B=r.a.createElement(b,{screen:a,showSearch:function(){return c("searchscreen")},showFavs:function(){return c("favouritescreen")},showHome:function(){return c("homescreen")}}),A=null;switch(a){case"searchscreen":A=r.a.createElement(f,{characterList:h,planetList:F,addNewFavourite:g,userFavourites:N,deleteFavourite:L},B);break;case"favouritescreen":A=r.a.createElement(v,{userFavourites:N,deleteFavourite:L,addNewFavourite:g},B);break;default:A=r.a.createElement(E,{showSearch:function(){return c("searchscreen")},showFavs:function(){return c("favouritescreen")}})}return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"blur"}),A)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.29a5a922.chunk.js.map